language: node_js

node_js:
  - "9.4.0"

env:
  global:
    -

services:
  - mysql

before_install:
  - mysql -u root --password="" < test_schema.sql

install:
  - npm install
  - cd frontend/ && npm install && cd ..

addons:
  chrome: stable

script:
  - sudo docker pull olinfse/strolle
  - sudo docker run -p 3000:3000 -d olinfse/strolle
  - cd frontend/ && npm run build && cd ..
  - npm run test

sudo: required
